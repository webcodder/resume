<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>涂鸦</title>
<style>
body{
    background:#808080;
}

#canvas{
    background:#FFFFFF;
}
</style>
<script>
window.onload = function(){
    //获取canvas画布
    var canvas = document.getElementById('canvas');
    //获取2d绘图环境
    var cxt = canvas.getContext('2d');

    canvas.onmousedown = function(ev){
        var ev = ev || window.event;
        cxt.moveTo(ev.clientX-canvas.offsetLeft,ev.clientY-canvas.offsetTop);

        document.onmousemove = function(ev){
             var ev = ev || window.event;
            cxt.strokeStyle = 'red';
            cxt.lineWidth = 20;
           
            cxt.lineTo(ev.clientX-canvas.offsetLeft,ev.clientY-canvas.offsetTop);

            cxt.stroke();
        };
    };
    document.onmouseup = function(){
        document.onmousemove = null;
        document.onload = null;
    };
};
</script>
</head>
<body>
    <canvas id="canvas" width="500" height="500">此浏览器不支持canvas</canvas>
</body>
</html>